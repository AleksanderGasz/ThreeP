@namespace Mac.Modules.Elements
<MudPaper Elevation="GlobalStyles.Elevation" Class="@($"{Class} pa-4")" Style="@Styles">
    <MudStack Row Justify="Justify.SpaceBetween">
        <MTitle Name="@Name" Color="@Color" Typo="Typo"/>
        <MudSpacer/>
        @if (HeaderRight is not null)
        {
            @HeaderRight
        }
        @if (!ExpandedDisabled)
        {
            <MudToggleIconButton Disabled="ExpandedDisabled" @bind-Toggled="Expanded" Icon="@Icons.Material.Filled.ArrowDropUp" ToggledIcon="@Icons.Material.Filled.ArrowDropDown"/>
        }
    </MudStack>
    <MudCollapse Expanded="Expanded">
        @ChildContent
    </MudCollapse>
</MudPaper>


@code {
    [Parameter] public RenderFragment? HeaderRight { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public bool ExpandedDisabled { get; set; }
    [Parameter] public string? Name { get; set; }
    [Parameter] public Typo Typo { get; set; } = GlobalStyles.HeaderTypo;
    [Parameter] public Color Color { get; set; } = GlobalStyles.TextColor;
    [Parameter] public bool Expanded { get; set; }
    [Parameter] public string? Class { get; set; }
    [Parameter] public string? Styles { get; set; }
}